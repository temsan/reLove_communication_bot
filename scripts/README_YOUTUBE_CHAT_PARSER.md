# Парсер чата YouTube

Этот скрипт позволяет парсить чат YouTube-трансляции, извлекать имена пользователей, искать их в Telegram и сохранять результаты в базу данных.

## Установка

1. Убедитесь, что у вас установлен Python 3.8 или выше
2. Установите зависимости:
   ```
   pip install -r requirements-youtube.txt
   ```
3. Убедитесь, что у вас настроен доступ к базе данных и переменные окружения (если используются)

## Использование

1. Запустите скрипт:
   ```
   python youtube_chat_parser.py
   ```
2. Введите URL или ID видео YouTube, когда появится запрос
3. Скрипт начнет парсить чат в реальном времени

## Функциональность

- Сбор имен пользователей из чата YouTube
- Поиск упоминаний Telegram-аккаунтов в сообщениях
- Поиск пользователей в базе Telegram по username
- Сохранение данных в базу данных
- Логирование работы

## Структура таблицы `youtube_chat_users`

- `id` - Уникальный идентификатор
- `youtube_display_name` - Отображаемое имя в YouTube чате
- `youtube_channel_id` - ID канала пользователя
- `message_count` - Количество сообщений в чате
- `first_seen` - Дата первого сообщения
- `last_seen` - Дата последнего сообщения
- `telegram_username` - Найденный username в Telegram
- `telegram_id` - ID пользователя в Telegram (если найден)
- `is_community_member` - Является ли участником сообщества
- `metadata` - Дополнительные данные в формате JSON

## Примечания

- Скрипт работает только с публичными чатами
- Для работы с приватными чатами могут потребоваться дополнительные настройки авторизации
- Рекомендуется запускать скрипт во время прямой трансляции для сбора данных в реальном времени
