# üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ –∫–æ–¥

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ `relove_bot/services/prompts.py`

---

## üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤

–í—Å–µ –ø—Ä–æ–º–ø—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤:
```
relove_bot/services/prompts.py
```

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã

### 1. NATASHA_PROVOCATIVE_PROMPT
**–û—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –≤—Å–µ—Ö –¥–∏–∞–ª–æ–≥–æ–≤**

```python
from relove_bot.services.prompts import NATASHA_PROVOCATIVE_PROMPT

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å LLM
response = llm.generate(
    system_prompt=NATASHA_PROVOCATIVE_PROMPT,
    user_message=user_input
)
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –î–ª—è –≤—Å–µ—Ö –¥–∏–∞–ª–æ–≥–æ–≤ —Å –ù–∞—Ç–∞—à–µ–π

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –ü—Ä–æ–≤–æ–∫–∞—Ç–∏–≤–Ω—ã–π —Å—Ç–∏–ª—å
- –†–∞–±–æ—Ç–∞ —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ –∏ –∞—Ä—Ö–µ—Ç–∏–ø–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Ç–∞—Ñ–æ—Ä –∏ –æ–±—Ä–∞–∑–æ–≤
- –ì–∏–±–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –∫–æ–Ω—Ç–µ–∫—Å—Ç

---

### 2. ENERGY_RITUAL_PROMPT
**–î–ª—è —Ä–∞–±–æ—Ç—ã —Å —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞–±–æ—Ç–æ–π –∏ —Ä–∏—Ç—É–∞–ª–∞–º–∏ (20% –¥–∏–∞–ª–æ–≥–æ–≤)**

```python
from relove_bot.services.prompts import ENERGY_RITUAL_PROMPT

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
if "—ç–Ω–µ—Ä–≥–∏—è" in user_message or "—Ä–∏—Ç—É–∞–ª" in user_message:
    response = llm.generate(
        system_prompt=ENERGY_RITUAL_PROMPT,
        user_message=user_input
    )
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: 
- –ö–æ–≥–¥–∞ —á–µ–ª–æ–≤–µ–∫ –≥–æ–≤–æ—Ä–∏—Ç –æ–± –æ—â—É—â–µ–Ω–∏—è—Ö, —ç–Ω–µ—Ä–≥–∏–∏, –≤–∏–±—Ä–∞—Ü–∏—è—Ö
- –ü—Ä–∏ –æ–±—Å—É–∂–¥–µ–Ω–∏–∏ —Ä–∏—Ç—É–∞–ª–æ–≤ –∏ –º–µ–¥–∏—Ç–∞—Ü–∏–π
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —É–≥–ª—É–±–∏—Ç—å –æ–ø—ã—Ç

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –£–≥–ª—É–±–ª–µ–Ω–∏–µ –æ—â—É—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ –≤–æ–ø—Ä–æ—Å—ã
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ–ø—ã—Ç–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–µ—Ç–∏–ø–æ–≤ (–•–∞—Ç—Ö–æ—Ä, –ò—Å–∏–¥–∞ –∏ —Ç.–¥.)
- –ü—Ä–∏–∑–Ω–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

---

### 3. RELATIONSHIPS_BALANCE_PROMPT
**–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏ –∏ –±–∞–ª–∞–Ω—Å–æ–º (16.9% –¥–∏–∞–ª–æ–≥–æ–≤)**

```python
from relove_bot.services.prompts import RELATIONSHIPS_BALANCE_PROMPT

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –æ–± –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö
if "–æ—Ç–Ω–æ—à–µ–Ω–∏—è" in user_message or "–º—É–∂—á–∏–Ω–∞" in user_message:
    response = llm.generate(
        system_prompt=RELATIONSHIPS_BALANCE_PROMPT,
        user_message=user_input
    )
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**:
- –í–æ–ø—Ä–æ—Å—ã –æ–± –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö –∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞—Ö
- –û–±—Å—É–∂–¥–µ–Ω–∏–µ –º—É–∂—Å–∫–æ-–∂–µ–Ω—Å–∫–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞
- –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–µ–∫—Ü–∏—è–º–∏ –∏ –∑–µ—Ä–∫–∞–ª–∞–º–∏

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–µ–∫—Ü–∏—è–º–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–µ—Ç–∏–ø–æ–≤
- –í—Å–∫—Ä—ã—Ç–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (–≤–∞–º–ø–∏—Ä–∏–∑–º, –≤–æ–π–Ω–∞, –æ–±–∏–¥–∞)
- –ü–æ–º–æ—â—å –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏

---

### 4. PAST_LIVES_PROMPT
**–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—à–ª—ã–º–∏ –∂–∏–∑–Ω—è–º–∏ (9.9% –¥–∏–∞–ª–æ–≥–æ–≤)**

```python
from relove_bot.services.prompts import PAST_LIVES_PROMPT

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –ø—Ä–æ—à–ª—ã—Ö –∂–∏–∑–Ω—è—Ö
if "–ø—Ä–æ—à–ª–∞—è –∂–∏–∑–Ω—å" in user_message or "–ø–ª–∞–Ω–µ—Ç–∞" in user_message:
    response = llm.generate(
        system_prompt=PAST_LIVES_PROMPT,
        user_message=user_input
    )
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**:
- –û–±—Å—É–∂–¥–µ–Ω–∏–µ –ø—Ä–æ—à–ª—ã—Ö –∂–∏–∑–Ω–µ–π –∏ –∏–Ω–∫–∞—Ä–Ω–∞—Ü–∏–π
- –ü–ª–∞–Ω–µ—Ç–∞—Ä–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏ —Ç—Ä–∞–≤–º—ã
- –†–∞–±–æ—Ç–∞ —Å –∞—Ä—Ö–µ—Ç–∏–ø–∞–º–∏ –∏ —Ö—Ä–∞–º–∞–º–∏

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –£–≥–ª—É–±–ª–µ–Ω–∏–µ –≤ –æ–±—Ä–∞–∑—ã –∏ –æ—â—É—â–µ–Ω–∏—è
- –°–≤—è–∑—å —Å —Ç–µ–∫—É—â–µ–π –∂–∏–∑–Ω—å—é
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–µ—Ç–∏–ø–æ–≤ –∏ –ø–ª–∞–Ω–µ—Ç
- –ü—Ä–∏–Ω—è—Ç–∏–µ —É—Ä–æ–∫–æ–≤

---

### 5. BUSINESS_CREATIVITY_PROMPT
**–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∏–∑–Ω–µ—Å–æ–º –∏ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ–º (11.5% –¥–∏–∞–ª–æ–≥–æ–≤)**

```python
from relove_bot.services.prompts import BUSINESS_CREATIVITY_PROMPT

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –±–∏–∑–Ω–µ—Å–µ
if "–±–∏–∑–Ω–µ—Å" in user_message or "–ø—Ä–æ–µ–∫—Ç" in user_message:
    response = llm.generate(
        system_prompt=BUSINESS_CREATIVITY_PROMPT,
        user_message=user_input
    )
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**:
- –í–æ–ø—Ä–æ—Å—ã –æ –±–∏–∑–Ω–µ—Å–µ –∏ –ø—Ä–æ–µ–∫—Ç–∞—Ö
- –¢–≤–æ—Ä—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –†–∞–±–æ—Ç–∞ —Å –±–ª–æ–∫–∞–º–∏ –∏ —Å—Ç—Ä–∞—Ö–∞–º–∏

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –í—ã—è–≤–ª–µ–Ω–∏–µ –¥—É—Ö–æ–≤–Ω–æ–≥–æ —Å–º—ã—Å–ª–∞
- –†–∞–±–æ—Ç–∞ —Å —ç–Ω–µ—Ä–≥–∏–µ–π –∏ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ–º
- –í—Å–∫—Ä—ã—Ç–∏–µ –±–ª–æ–∫–æ–≤
- –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –¥–µ–π—Å—Ç–≤–∏–µ–º –∏ –ø–æ—Ç–æ–∫–æ–º

---

### 6. FLEXIBLE_DIAGNOSTIC_PROMPT
**–î–ª—è –≥–∏–±–∫–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —á–µ—Ä–µ–∑ —Å–≤–æ–±–æ–¥–Ω—ã–π –¥–∏–∞–ª–æ–≥**

```python
from relove_bot.services.prompts import FLEXIBLE_DIAGNOSTIC_PROMPT

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —ç—Ç–∞–ø–∞ –ø—É—Ç–∏
response = llm.generate(
    system_prompt=FLEXIBLE_DIAGNOSTIC_PROMPT,
    user_message=user_input,
    context=user_profile  # –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
)
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**:
- –ü–µ—Ä–≤—ã–π –∫–æ–Ω—Ç–∞–∫—Ç —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç—Ç–∞–ø–∞ –ø—É—Ç–∏ –≥–µ—Ä–æ—è
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –ø—Ä–æ—Ñ–∏–ª—å

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–∏–∞–ª–æ–≥
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Å–∏—Ö–æ—Ç–∏–ø–∞ –∏ —ç—Ç–∞–ø–∞
- –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è

---

## üîÑ –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ–º–ø—Ç–∞

```python
def select_prompt(user_message, user_profile):
    """–í—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞"""
    
    # –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–µ–º—ã
    energy_keywords = ["—ç–Ω–µ—Ä–≥–∏—è", "—Ä–∏—Ç—É–∞–ª", "–º–µ–¥–∏—Ç–∞—Ü–∏—è", "–æ—â—É—â–µ–Ω–∏–µ", "–≤–∏–±—Ä–∞—Ü–∏—è"]
    relationship_keywords = ["–æ—Ç–Ω–æ—à–µ–Ω–∏—è", "–º—É–∂—á–∏–Ω–∞", "–∂–µ–Ω—â–∏–Ω–∞", "–ø–∞—Ä—Ç–Ω–µ—Ä", "–ª—é–±–æ–≤—å"]
    past_life_keywords = ["–ø—Ä–æ—à–ª–∞—è –∂–∏–∑–Ω—å", "–ø–ª–∞–Ω–µ—Ç–∞", "—Ö—Ä–∞–º", "–∞—Ä—Ö–µ—Ç–∏–ø", "—Å—É—Ç—å"]
    business_keywords = ["–±–∏–∑–Ω–µ—Å", "–ø—Ä–æ–µ–∫—Ç", "—Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ", "—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è", "–¥–∞—Ä"]
    
    # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–º—ã
    if any(kw in user_message.lower() for kw in energy_keywords):
        return ENERGY_RITUAL_PROMPT
    elif any(kw in user_message.lower() for kw in relationship_keywords):
        return RELATIONSHIPS_BALANCE_PROMPT
    elif any(kw in user_message.lower() for kw in past_life_keywords):
        return PAST_LIVES_PROMPT
    elif any(kw in user_message.lower() for kw in business_keywords):
        return BUSINESS_CREATIVITY_PROMPT
    else:
        # –ï—Å–ª–∏ –ø–µ—Ä–≤—ã–π –∫–æ–Ω—Ç–∞–∫—Ç –∏–ª–∏ –Ω–µ—è—Å–Ω–∞—è —Ç–µ–º–∞
        if not user_profile.get("stage"):
            return FLEXIBLE_DIAGNOSTIC_PROMPT
        else:
            return NATASHA_PROVOCATIVE_PROMPT
```

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞

```python
user_message = "–ù–∞ —Ä–∏—Ç—É–∞–ª–µ —è –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª–∞ —Å—Ç—Ä–∞–Ω–Ω—É—é —ç–Ω–µ—Ä–≥–∏—é –≤ –≥—Ä—É–¥–∏"

# –í—ã–±–æ—Ä –ø—Ä–æ–º–ø—Ç–∞
prompt = ENERGY_RITUAL_PROMPT

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
response = llm.generate(
    system_prompt=prompt,
    user_message=user_message
)

# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
# "–ù—É –≤–æ—Ç —Ç—ã –∏ –µ—â–µ –±–ª–∏–∂–µ –∫ –¥–∞—Ä—É —Å–≤–æ–µ–π –ó–≤–µ–∑–¥–Ω–æ–π –°—É—Ç–∏. 
# –†–∞—Å—Å–∫–∞–∂–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ: –∫–∞–∫–æ–≥–æ —ç—Ç–æ —Ü–≤–µ—Ç–∞? –ö–∞–∫–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã?"
```

### –ü—Ä–∏–º–µ—Ä 2: –û—Ç–Ω–æ—à–µ–Ω–∏—è

```python
user_message = "–Ø –Ω–µ –∑–Ω–∞—é, –∫–∞–∫ –ø—Ä–∏–Ω—è—Ç—å –µ–≥–æ —Ç–∞–∫–∏–º, –∫–∞–∫–æ–π –æ–Ω –µ—Å—Ç—å"

# –í—ã–±–æ—Ä –ø—Ä–æ–º–ø—Ç–∞
prompt = RELATIONSHIPS_BALANCE_PROMPT

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
response = llm.generate(
    system_prompt=prompt,
    user_message=user_message
)

# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
# "–û—á–µ–Ω—å —á–µ—Å—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å. –ù–æ —Å–ø—Ä–æ—Å–∏ —Å–µ–±—è: 
# –∫–∞–∫—É—é —á–∞—Å—Ç—å —Å–µ–±—è —Ç—ã –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—à—å?"
```

### –ü—Ä–∏–º–µ—Ä 3: –ü—Ä–æ—à–ª—ã–µ –∂–∏–∑–Ω–∏

```python
user_message = "–Ø –≤—Å–ø–æ–º–Ω–∏–ª–∞ —Å–≤–æ—é —Å—É—Ç—å –∏ –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª–∞ –¥–æ–º"

# –í—ã–±–æ—Ä –ø—Ä–æ–º–ø—Ç–∞
prompt = PAST_LIVES_PROMPT

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
response = llm.generate(
    system_prompt=prompt,
    user_message=user_message
)

# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
# "–£ —Ç–µ–±—è –≤ –ü–ñ –∑–Ω–∞—á–∏—Ç—Å—è, —á—Ç–æ —Ç—ã –ø—Ä–∏—Ö–æ–¥–∏–ª–∞ –≤ —Ö—Ä–∞–º –•–∞—Ç—Ö–æ—Ä..."
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–æ–≤ –∏–∑ PROMPTS_TEST_EXAMPLES.md

```python
from docs.PROMPTS_TEST_EXAMPLES import TEST_EXAMPLES

def test_natasha_responses():
    """–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –ù–∞—Ç–∞—à–∏"""
    
    for category, examples in TEST_EXAMPLES.items():
        for example in examples:
            user_message = example["user_message"]
            expected_style = example["expected_style"]
            
            # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
            response = generate_natasha_response(user_message)
            
            # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è
            assert check_style(response, expected_style)
            assert len(response) < 500  # –ù–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π
            assert has_question(response)  # –°–æ–¥–µ—Ä–∂–∏—Ç –≤–æ–ø—Ä–æ—Å
            assert has_emoji(response)  # –°–æ–¥–µ—Ä–∂–∏—Ç —ç–º–æ–¥–∑–∏
```

---

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

```python
def monitor_response_quality(response, user_message):
    """–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤"""
    
    metrics = {
        "length": len(response),  # –û–ø—Ç–∏–º–∞–ª—å–Ω–æ 100-400 —Å–∏–º–≤–æ–ª–æ–≤
        "has_question": "?" in response,  # –î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤–æ–ø—Ä–æ—Å
        "has_emoji": any(ord(c) > 127 for c in response),  # –î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —ç–º–æ–¥–∑–∏
        "has_recognition": any(kw in response for kw in ["–≤–∏–∂—É", "–ø–æ–º–Ω—é", "—Ä–∞–¥–∞"]),
        "has_provocation": any(kw in response for kw in ["–Ω–æ", "—Å–∫–∞–∂–∏", "–≤–∏–¥–∏—à—å"]),
        "has_metaphor": any(kw in response for kw in ["–∫–∞–∫", "–æ–±—Ä–∞–∑", "—Å–∏–º–≤–æ–ª"]),
    }
    
    return metrics
```

---

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–º–ø—Ç—ã
```bash
# –ü—Ä–æ–º–ø—Ç—ã —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –≤ relove_bot/services/prompts.py
```

### –®–∞–≥ 2: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
```bash
# –ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–∏–º–µ—Ä—ã –∏–∑ PROMPTS_TEST_EXAMPLES.md
python -m pytest tests/test_natasha_prompts.py
```

### –®–∞–≥ 3: –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å
```bash
# –û–±–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞ —Å –Ω–æ–≤—ã–º–∏ –ø—Ä–æ–º–ø—Ç–∞–º–∏
docker-compose up -d relove_bot
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–û—Ç—Å–ª–µ–∂–∏–≤–∞–π, –∫–∞–∫–∏–µ –ø—Ä–æ–º–ø—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —á–∞—â–µ:

```python
prompt_usage = {
    "NATASHA_PROVOCATIVE_PROMPT": 0,
    "ENERGY_RITUAL_PROMPT": 0,
    "RELATIONSHIPS_BALANCE_PROMPT": 0,
    "PAST_LIVES_PROMPT": 0,
    "BUSINESS_CREATIVITY_PROMPT": 0,
    "FLEXIBLE_DIAGNOSTIC_PROMPT": 0,
}

# –û–±–Ω–æ–≤–ª—è–π –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
prompt_usage[selected_prompt] += 1
```

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `relove_bot/services/prompts.py` ‚Äî –í—Å–µ –ø—Ä–æ–º–ø—Ç—ã
- `docs/NATASHA_BOT_PROMPTS.md` ‚Äî –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `docs/PROMPTS_TEST_EXAMPLES.md` ‚Äî –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `data/natasha_finetuning_20251125_153356.jsonl` ‚Äî –î–∞—Ç–∞—Å–µ—Ç –¥–ª—è fine-tuning

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏!** üéâ

